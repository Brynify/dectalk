<HTML>
<HEAD>
<TITLE>What's New in DECtalk V4.4 Programming?</TITLE>
</HEAD><BODY BGCOLOR="#ffffe0">
<A HREF= "DECtalkDECtalk.html"><IMG SRC="contents.gif" ALT="contents.gif" BORDER = 0></A><A HREF= "DECtalkindex.html"><IMG SRC="index.gif" ALT="index.gif" BORDER = 0></A><A HREF= "DECtalkWhats_New_in_DECtalk_Sof00000314.html"><IMG SRC="prev1.gif" ALT="prev1.gif" BORDER = 0></A><A HREF= "DECtalkWhats_New_in_DECtalk_Sof00000316.html"><IMG SRC="next1.gif" ALT="next1.gif" BORDER = 0></A>
<P>
<A NAME="off_4784128"></A><A NAME="daf3f84f"></A><A NAME="off_4784128"></A><A NAME="daf3f84f"></A><A NAME="off_4784128"></A><A NAME="daf3f84f"></A><A NAME="off_4784128"></A><A NAME="daf3f84f"></A><FONT FACE="Arial" COLOR="#000000" SIZE="4"><B>What's New in DECtalk V4.4 Programming?
<P>
</B></FONT><FONT FACE="HELVETICA" SIZE="4">DECtalk Software V4.4 contains the following new features with regard to
programming.  Where text is highlighted, you can jump directly to the help on the
feature.
<P>
<IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> Support for </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechStartupEx.html">multiple instances</A></FONT><FONT FACE="HELVETICA" SIZE="4"> of the text-to-speech objects in a single process.
<P>
<IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> A new startup function, </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechStartupEx.html">TextToSpeechStartupEx(),</A></FONT><FONT FACE="HELVETICA" SIZE="4"> has been added to compliment the platform specific </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechStartup_Windows_only.html">TextToSpeechStartup() function for Windows</A></FONT><FONT FACE="HELVETICA" SIZE="4">. The Windows startup function supports windowing messages, while the new
extended startup function supports callbacks.  </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechStartup_UNIX_only.html#e5f39e1d">On UNIX</A></FONT><FONT FACE="HELVETICA" SIZE="4">, both startup functions work similar to the Windows extended startup
function, in other words, they support callbacks not window messages.
<P>
<IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> A new document, the <I>DECtalk™ Software Reference Guide, </I>has been added. This guide provides an </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkDECtalk_Software_InLine_00000254.html">overview and reference listings of the DECtalk Software in-line commands</A></FONT><FONT FACE="HELVETICA" COLOR="#000000" SIZE="4">.  </FONT><FONT FACE="HELVETICA" SIZE="4">It also contains a listing of all </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkDECtalk_Software_Reference_Table.html">reference tables for phonemic symbols, stress and syntactic symbols, tone
tables, and homographs</A></FONT><FONT FACE="HELVETICA" SIZE="4">.
<P>
<IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> Changes have been made to the UNIX code to allow for posix thread changes.
<P>
<IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> Implementation of the </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechReset.html">TextToSpeechReset()</A></FONT><FONT FACE="HELVETICA" SIZE="4"> function has been changed.
<P>
<IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> The </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechPause.html">TextToSpeechPause()</A></FONT><FONT FACE="HELVETICA" SIZE="4"> function has been made asynchronous.
<P>
<IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> New license specific return values have been added to the startup functions, </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechStartup_Windows_only.html">TextToSpeechStartup() (Windows) </A></FONT><FONT FACE="HELVETICA" SIZE="4">, </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechStartup_UNIX_only.html#e5f39e1d">TextToSpeechStartup() (UNIX) </A></FONT><FONT FACE="HELVETICA" SIZE="4">, and </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechStartupEx.html">TextToSpeechStartupEx()</A></FONT><FONT FACE="HELVETICA" SIZE="4">. They are MMSYSERR_ALLOCATED and MMSYSERR_NOTENABLED.
<P>
<IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> The ttsapi header file (ttsapi.h) was modified for 4.4. The following is a
list of changes that were made.
<P>
</FONT><TABLE><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3"><B>Symbol in TTSAPI.H
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3"><B>Old Value
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3"><B>New Value
<BR></B></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3">OUTPUT_TO_AF_DEVICE
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">01000000
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">no longer exists
<BR></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3">OUTPUT_TO_MME_DEVICE
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">80000000
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">no longer exists
<BR></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3">OWN_AUDIO_DEVICE
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">10000000
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">00000001
<BR></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3">REPORT_OPEN_ERROR
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">20000000
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">00000002
<BR></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3">DO_NOT_USE_AUDIO_DEVICE
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">40000000
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">80000000
<BR>
<BR></FONT><FONT FACE="Arial" SIZE="4"><IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> </FONT></TD></TR></TABLE><FONT FACE="HELVETICA" SIZE="4">For compatibility reasons, the INDEX_MARK and MESSAGE_BUFFER symbols were
changed. The variables were renamed to force a recompile of any code that uses the
old names since the values were not guaranteed to mean the same thing between
4.2A and 4.4. 
<P>
</FONT><TABLE><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3"><B>Old Symbol
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3"><B>Value
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3"><B>New Symbol
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3"><B>Value
<BR></B></FONT></TD></TR><TR VALIGN=TOP><TD>
<BR></TD><TD>
<BR></TD><TD>
<BR></TD><TD>
<BR></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3">INDEX_MARK
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">0
<BR></FONT></TD><TD><FONT FACE="HELVETICA" COLOR="#008000" SIZE="3"><A HREF="DECtalkIndex_Mark_Messages.html">TTS_MSG_INDEX_MARK
<BR></A></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">1
<BR></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3">MESSAGE_BUFFER
<BR></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">1
<BR></FONT></TD><TD><FONT FACE="HELVETICA" COLOR="#008000" SIZE="3"><A HREF="DECtalkBuffer_Messages.html">TTS_MSG_BUFFER
<BR></A></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">0
<BR></FONT></TD></TR><TR VALIGN=TOP><TD>
<BR></TD><TD>
<BR></TD><TD><FONT FACE="HELVETICA" COLOR="#008000" SIZE="3"><A HREF="DECtalkError_Messages.html">TTS_MSG_STATUS
<BR></A></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">2
<BR>
<BR></FONT><FONT FACE="Arial" SIZE="4"><IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> </FONT></TD></TR></TABLE><FONT FACE="HELVETICA" SIZE="4">The </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkCallback_Routines_and_Window_Pro.html">callback routines</A></FONT><FONT FACE="HELVETICA" SIZE="4"> defined in both the TextToSpeechStartup() and the TextToSpeechStartupEx()
functions have been changed.
<P>
The old callback routine, defined in DECtalk Software 4.2A was defined as:
<P>
</FONT><TABLE><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3">Callback (DWORD param1, LONG param2, LONG userDefined) 
<BR></FONT></TD></TR></TABLE><TABLE><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3"><B>param1:
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">Type of callback (INDEX_MARK or MEMORY_BUFFER) or error 
<BR></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3"><B>param2:
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">For INDEX_MARK, this would be the index mark value
<BR></FONT></TD></TR><TR VALIGN=TOP><TD>
<BR></TD><TD><FONT FACE="HELVETICA" SIZE="3">For MEMORY_BUFFER, this would be a pointer to the memory buffer
<BR></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3"><B>userDefined:
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">Pointer to user-defined data that was passed in TextToSpeechStartup()
<BR>
<BR></FONT></TD></TR></TABLE><FONT FACE="HELVETICA" SIZE="4">The new callback routine, defined in DECtalk Software 4.4 is defined as:
<P>
</FONT><TABLE><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3">Callback (DWORD param1, LONG param2, LONG userDefined, UINT uiMsg)
<BR></FONT></TD></TR></TABLE><TABLE><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3"><B>param1:
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">For TTS_MSG_STATUS, this will indicate the error/status code
<BR></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3"><B>param2:
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">For TTS_MSG_BUFFER, this will be a pointer to the memory buffer
<BR></FONT></TD></TR><TR VALIGN=TOP><TD>
<BR></TD><TD><FONT FACE="HELVETICA" SIZE="3">For TTS_MSG_INDEX_MARK, this will be the index mark value
<BR></FONT></TD></TR><TR VALIGN=TOP><TD>
<BR></TD><TD><FONT FACE="HELVETICA" SIZE="3">For TTS_MSG_STATUS, this is additional information for the error/status.
<BR></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3"><B>userDefined:
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">Pointer to user-defined data that was passed in TextToSpeechStartup()
<BR></FONT></TD></TR><TR VALIGN=TOP><TD><FONT FACE="HELVETICA" SIZE="3"><B>uiMsg:
<BR></B></FONT></TD><TD><FONT FACE="HELVETICA" SIZE="3">TTS_MSG_BUFFER for memory buffers
<BR></FONT></TD></TR><TR VALIGN=TOP><TD>
<BR></TD><TD><FONT FACE="HELVETICA" SIZE="3">TTS_MSG_STATUS for error and status information
<BR></FONT></TD></TR><TR VALIGN=TOP><TD>
<BR></TD><TD><FONT FACE="HELVETICA" SIZE="3">TTS_MSG_INDEX_MARK for index marks
<BR>
<BR></FONT><FONT FACE="Arial" SIZE="4"><IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> </FONT></TD></TR></TABLE><FONT FACE="HELVETICA" SIZE="4">DECtalk.lib has been placed in </FONT><FONT FACE="Courier New" SIZE="4">\Program Files\DECtalk\li</FONT><FONT FACE="HELVETICA" SIZE="4">b.
<P>
<IMG SRC="DECtalk00090000.gif" ALT="DECtalk00090000.gif" BORDER=0 WIDTH=6 HEIGHT=16> The 8 khz, 16 bit mono output is now supported in the functions </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechOpenInMemory.html">TextToSpeechOpenInMemory()</A></FONT><FONT FACE="HELVETICA" SIZE="4"> and </FONT><FONT FACE="HELVETICA" COLOR="#008000" SIZE="4"><A HREF="DECtalkTextToSpeechOpenWaveOutFile.html">TextToSpeechOpenWaveOutFile()</A></FONT><FONT FACE="HELVETICA" SIZE="4">.
<P>
</FONT></BODY>
</HTML>