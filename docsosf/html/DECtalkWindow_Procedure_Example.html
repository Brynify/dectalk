<HTML>
<HEAD>
<TITLE>Window Procedure Example</TITLE>
</HEAD><BODY BGCOLOR="#ffffe0">
<A HREF= "DECtalkDECtalk.html"><IMG SRC="contents.gif" ALT="contents.gif" BORDER = 0></A><A HREF= "DECtalkindex.html"><IMG SRC="index.gif" ALT="index.gif" BORDER = 0></A><A HREF= "DECtalkCallback_Routine_Example.html"><IMG SRC="prev1.gif" ALT="prev1.gif" BORDER = 0></A><A HREF= "DECtalkAudio_Output_Control_Cal00000125.html"><IMG SRC="next1.gif" ALT="next1.gif" BORDER = 0></A>
<P>
<A NAME="off_1181183"></A><A NAME="8195569a"></A><A NAME="off_1181183"></A><A NAME="8195569a"></A><FONT FACE="Arial" SIZE="4"><B>Window Procedure Example 
<P>
</B></FONT><FONT FACE="Courier New" SIZE="3">static UINT uiID_Error_Message = 0;
<P>
static UNIT uiID_Buffer_Message = 0;
<P>
static UNIT uiID_Index_Message = 0;
<P>

<P>
// Window Procedure
<P>
VOID MyWndProc(LONG lParam1, LONG lParam2, DWORD dwCallbackParameter, UINT
uiMsg)
<P>
{
<P>
 if (uiMsg == uiID_Error_Message)
<P>
 {
<P>
  // lParam1 contains error code
<P>
  // lParam2 contains value of MMRESULT
<P>
 }
<P>
 else if (uiMsg == uiID_Index_Message)
<P>
 {
<P>
  // lParam2 contains index mark
<P>
 }
<P>
 else if (uiMsg == uiID_Buffer_Message)
<P>
 {
<P>
  // lParam2 contains Pointer to buffer
<P>
 }
<P>
} 
<P>

<P>
VOID main()
<P>
{
<P>
 LPTTS_HANDLE_TAG  phTTS;
<P>
 TextToSpeechStartupEx(&amp;phTTS, WAVE_MAPPER, REPORT_OPEN_ERROR, MyWndProc, 0);
<P>

<P>
 // Registering messages to report DECtalk asynchronous events
<P>
 uiID_Error_Message = RegisterWindowMessage(&quot;DECtalkErrorMessage&quot;);
<P>
 
<P>
 // Callback message is registered indicating index marks
<P>
 uiID_Index_Message = RegisterWindowMessage(&quot;DECtalkIndexMessage&quot;);
<P>
 
<P>
 // Callback message is registered indicating DECtalk has filled up an audio
buffer
<P>
 uiID_Buffer_Message = RegisterWindowMessage(&quot;DECtalkBufferMessage&quot;);
<P>
}
<P>

<P>
<HR></FONT><FONT FACE="HELVETICA" SIZE="4">  Related topics 
<P>
</FONT></BODY>
</HTML>